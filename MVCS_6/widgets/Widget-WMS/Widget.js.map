{"version":3,"sources":["../../../widgets/Widget-WMS/Widget.js"],"names":["define","declare","BaseWidget","baseClass","_getPanel","paramWidget","paramHeight","panel","pos","getPanel","position","domNode","childNodes","style","padding","width","height","setPosition","error","console","name","message","postCreate","inherited","arguments","log","startup","htmlWMSINGEMMET","jsonWMSINGEMMET","j","push","geoservicio","descripcion","enlace","document","getElementById","innerHTML","join","htmlWMSIGN","jsonWMSIGN","htmlWMS","jsonWMS","i"],"mappings":"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","file":"Widget.js","sourcesContent":["define(['dojo/_base/declare', 'jimu/BaseWidget'],\r\nfunction(declare, BaseWidget) {\r\n  //To create a widget, you need to derive from BaseWidget.\r\n  return declare([BaseWidget], {\r\n\r\n    // Custom widget code goes here\r\n\r\n    baseClass: 'widget-wms',\r\n    // this property is set by the framework when widget is loaded.\r\n    // name: 'Widget-WMS',\r\n    // add additional properties here\r\n    _getPanel: function(paramWidget, paramHeight) {  \r\n      let panel = null, pos = null;\r\n      try {\r\n          // paramWidget, paramHeight\r\n          panel = this.getPanel();\r\n          pos = panel.position;\r\n          panel.domNode.childNodes[1].childNodes[0].style.padding = \"0px\";\r\n          pos.width = paramWidget;\r\n          pos.height = paramHeight;\r\n          panel.setPosition(pos);\r\n      } catch (error) {\r\n          console.error(`_getPanel: ${error.name} - ${error.message}`);\r\n      }\r\n    },\r\n    //methods to communication with app container:\r\n    postCreate: function() {\r\n      this.inherited(arguments);\r\n      console.log('Widget-WMS::postCreate');\r\n    },\r\n\r\n    startup: function() {\r\n        this.inherited(arguments);\r\n        console.log('Widget-WMS::startup');\r\n        this._getPanel(300, 450);\r\n\r\n        var htmlWMSINGEMMET = [];\r\n        var jsonWMSINGEMMET = {\r\n          \"0\": {\r\n            \"geoservicio\": \"Geología\",\r\n            \"descripcion\": \"Descripción de geología\",\r\n            \"enlace\": \"https://geocatminapp.ingemmet.gob.pe/arcgis/services/SERV_GEOLOGIA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"1\": {\r\n            \"geoservicio\": \"Geoquímica\",\r\n            \"descripcion\": \"Descripción de geoquímica\",\r\n            \"enlace\": \"https://geocatminapp.ingemmet.gob.pe/arcgis/services/SERV_GEOQUIMICA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"2\": {\r\n            \"geoservicio\": \"Geomorfología\",\r\n            \"descripcion\": \"Descripción geomorfología\",\r\n            \"enlace\": \"http://geocatminapp.ingemmet.gob.pe:6080/arcgis/services/SERV_GEOQUIMICA/MapServer/WMSServer\"\r\n          }\r\n        };\r\n        for(let j = 0; j <= 2; j++) {\r\n          htmlWMSINGEMMET.push(\r\n            `\r\n            <div class=\"acd_card\">\r\n              <div class=\"acd_name\">\r\n                <h3 class=\"content_title\">${jsonWMSINGEMMET[j].geoservicio}</h3>\r\n                <div class=\"content_info\">${jsonWMSINGEMMET[j].descripcion}</div>\r\n              </div>\r\n              <div class=\"acd_clone\">\r\n                <span class=\"fa fa-external-link\"> \r\n                  <a href=\"${jsonWMSINGEMMET[j].enlace}\" target=\"_blank\" >url</a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            `            \r\n          );\r\n        }\r\n        document.getElementById(\"INGEMMET\").innerHTML = htmlWMSINGEMMET.join(\"\");\r\n\r\n        var htmlWMSIGN = [];\r\n        var jsonWMSIGN = {\r\n          \"0\": {\r\n            \"geoservicio\": \"Limites Políticos\",\r\n            \"descripcion\": \"Descripción de Limites Políticos\",\r\n            \"enlace\": \"https://geocatminapp.ingemmet.gob.pe/arcgis/services/SERV_GEOLOGIA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"1\": {\r\n            \"geoservicio\": \"Empalmes 10000\",\r\n            \"descripcion\": \"Descripción de Empalmes 10000\",\r\n            \"enlace\": \"https://geocatminapp.ingemmet.gob.pe/arcgis/services/SERV_GEOQUIMICA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"2\": {\r\n            \"geoservicio\": \"Fisiografía\",\r\n            \"descripcion\": \"Descripción Fisiografía\",\r\n            \"enlace\": \"http://geocatminapp.ingemmet.gob.pe:6080/arcgis/services/SERV_GEOQUIMICA/MapServer/WMSServer\"\r\n          }\r\n        };\r\n        for(let j = 0; j <= 2; j++) {\r\n          htmlWMSIGN.push(\r\n            `\r\n            <div class=\"acd_card\">\r\n              <div class=\"acd_name\">\r\n                <h3 class=\"content_title\">${jsonWMSIGN[j].geoservicio}</h3>\r\n                <div class=\"content_info\">${jsonWMSIGN[j].descripcion}</div>\r\n              </div>\r\n              <div class=\"acd_clone\">\r\n                <span class=\"fa fa-external-link\"> \r\n                  <a href=\"${jsonWMSIGN[j].enlace}\" target=\"_blank\" >url</a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            `            \r\n          );\r\n        }\r\n        document.getElementById(\"IGN\").innerHTML = htmlWMSIGN.join(\"\");\r\n\r\n        var htmlWMS = [];\r\n        var jsonWMS = {\r\n          \"0\": {\r\n            \"geoservicio\": \"Unidades Hidrográficas\",\r\n            \"descripcion\": \"Delimitación del ámbito de la cuenca\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_UNIDADES_HIDROGRAFICAS/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"1\": {\r\n            \"geoservicio\": \"Unidades Hidrográficas menores\",\r\n            \"descripcion\": \"Delimitación del ámbito de la cuencas menores\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_UNIDADES_HIDROGRAFICAS_MENORES/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"2\": {\r\n            \"geoservicio\": \"Autoridades Administrativas del Agua\",\r\n            \"descripcion\": \"Delimitación de las Autoridades Administrativas del Agua\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_AUTORIDAD_ADMINISTRATIVA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"3\": {\r\n            \"geoservicio\": \"Administraciones Locales del Agua\",\r\n            \"descripcion\": \"Delimitación de las Autoridades Administrativas del Agua\",\r\n            \"enlace\": \"\thttp://geo.ana.gob.pe/arcgis/services/SERV_ADMINISTRACION_LOCAL/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"4\": {\r\n            \"geoservicio\": \"Inventario Nacional de Glaciares\",\r\n            \"descripcion\": \"Evaluación nacional del estado de los glaciares.\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_INVENTARIO_GLACIARES/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"5\": {\r\n            \"geoservicio\": \"Inventario Nacional de Lagunas Glaciares\",\r\n            \"descripcion\": \"Evaluación nacional del estado de las lagunas de origen glaciar\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_INVENTARIO_LAGUNAS/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"6\": {\r\n            \"geoservicio\": \"Clasificación de Cuerpos de Agua Marino-Costero\",\r\n            \"descripcion\": \"Identificación de los cuerpos de agua marino costeros\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_CLASIFICACION_MARINA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"7\": {\r\n            \"geoservicio\": \"Poblaciones vulnerables\",\r\n            \"descripcion\": \"Identificar poblaciones vulnerables ante la activación de quebradas en época de lluvias extremas\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_POBLACION_VULNERABLE/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"8\": {\r\n            \"geoservicio\": \"Modelamiento Hidráulico\",\r\n            \"descripcion\": \"Modelamiento de inundación en los ríos Tumbes, Chira, Piura, La Leche y Reque\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_MODELAMIENTO_HIDRAULICO/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"9\": {\r\n            \"geoservicio\": \"Inventario Nacional de Presas\",\r\n            \"descripcion\": \"Evaluación del estado de los principales presas a nivel nacional\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_INVENTARIO_PRESA/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"10\": {\r\n            \"geoservicio\": \"Fajas Marginales\",\r\n            \"descripcion\": \"Ubicación de los hitos de faja marginal aprobadas a nivel nacional\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_FAJAS_MARGINALES/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"11\": {\r\n            \"geoservicio\": \"Poblaciones Vulnerables por Activación de Quebrada\",\r\n            \"descripcion\": \"El estudio se realizó en 24 departamentos del Perú, que abarcaron 14 Autoridades Administrativas del Agua\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_POBLACIONES_VULNERABLES/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"12\": {\r\n            \"geoservicio\": \"Consejos de Recursos Hídricos de Cuenca\",\r\n            \"descripcion\": \"Delimitación de los ámbitos de los Consejos de Recursos Hídricos de Cuenca\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_FAJAS_MARGINALES/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"13\": {\r\n            \"geoservicio\": \"Estaciones Automáticas Pluviométricas\",\r\n            \"descripcion\": \"Estaciones automáticas pluviométricas instaladas para el monitoreo de precipitaciones cercanas a poblaciones vulnerables a eventos hidroclimáticos extremos\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_ESTACIONES_PLUVIOMETRICAS/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"14\": {\r\n            \"geoservicio\": \"Barreras Dinámicas\",\r\n            \"descripcion\": \"22 mallas metálicas instaladas en 9 quebradas en el distrito de Lurigancho\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_BARRERAS_DINAMICAS/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"15\": {\r\n            \"geoservicio\": \"Vertimientos de Aguas Residuales Tratadas\",\r\n            \"descripcion\": \"Los Vertimientos de aguas residuales tratadas son autorizados por la Dirección de Gestión de Calidad de Recursos Hídricos (DGCRH)\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_VERTIMIENTOS_AUTORIZADOS/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          },\r\n          \"16\": {\r\n            \"geoservicio\": \"Puntos Críticos 2016\",\r\n            \"descripcion\": \"El documento identifica la ubicación geográfica de zonas de riesgo a inundación y erosión de los principales ríos del país\",\r\n            \"enlace\": \"http://geo.ana.gob.pe/arcgis/services/SERV_PUNTOS_CRITICOS/MapServer/WMSServer?request=GetCapabilities&service=WMS\"\r\n          }\r\n        };\r\n        for(let i = 0; i <= 16; i++) {\r\n          htmlWMS.push(\r\n            `\r\n            <div class=\"acd_card\">\r\n              <div class=\"acd_name\">\r\n                <h3 class=\"content_title\">${jsonWMS[i].geoservicio}</h3>\r\n                <div class=\"content_info\">${jsonWMS[i].descripcion}</div>\r\n              </div>\r\n              <div class=\"acd_clone\">\r\n                <span class=\"fa fa-external-link\">\r\n                  <a href=\"${jsonWMS[i].enlace}}\" target=\"_blank\" >url</a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            `            \r\n          );\r\n        }\r\n\r\n        document.getElementById(\"ANA\").innerHTML = htmlWMS.join(\"\");\r\n\r\n    },\r\n\r\n    // onOpen: function(){\r\n    //   console.log('Widget-WMS::onOpen');\r\n    // },\r\n\r\n    // onClose: function(){\r\n    //   console.log('Widget-WMS::onClose');\r\n    // },\r\n\r\n    // onMinimize: function(){\r\n    //   console.log('Widget-WMS::onMinimize');\r\n    // },\r\n\r\n    // onMaximize: function(){\r\n    //   console.log('Widget-WMS::onMaximize');\r\n    // },\r\n\r\n    // onSignIn: function(credential){\r\n    //   console.log('Widget-WMS::onSignIn', credential);\r\n    // },\r\n\r\n    // onSignOut: function(){\r\n    //   console.log('Widget-WMS::onSignOut');\r\n    // }\r\n\r\n    // onPositionChange: function(){\r\n    //   console.log('Widget-WMS::onPositionChange');\r\n    // },\r\n\r\n    // resize: function(){\r\n    //   console.log('Widget-WMS::resize');\r\n    // }\r\n\r\n    //methods to communication between widgets:\r\n\r\n  });\r\n\r\n});\r\n"]}